<div class="max-w-md mx-auto bg-white p-6 rounded-lg shadow-md">
  <h1 class="text-2xl font-bold mb-4">Editing task</h1>
  <%= render "form", task: @task %>
  <div class="mt-4">
    <%= link_to "Show this task", @task, class: "text-blue-500 hover:underline" %> |
    <%= link_to "Back to tasks", tasks_path, class: "text-blue-500 hover:underline" %>
  </div>
</div>

<div id="countdown" class="fixed top-0 left-0 w-full h-full flex items-center justify-center text-4xl bg-black bg-opacity-30 text-white" style="display: none; pointer-events: none;">
  <span id="countdown-number">5</span>
</div>

<script>
  document.addEventListener("turbo:load", () => {
    const countdown = document.getElementById("countdown");
    const countdownNumber = document.getElementById("countdown-number");

    if (countdown) {
      let count = 5;
      countdown.style.display = "flex";
      countdownNumber.textContent = count;

      const interval = setInterval(() => {
        count -= 1;
        if (count >= 0) {
          countdownNumber.textContent = count;
        }

        if (count === -1) {
          clearInterval(interval);
          countdown.style.display = "none";
        }
      }, 1000);
    }
  });
</script>